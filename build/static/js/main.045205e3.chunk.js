(this.webpackJsonpnotes=this.webpackJsonpnotes||[]).push([[0],[,,,,,,,,,,,,,,,,,function(e,t,a){},,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),c=a(10),s=a.n(c),o=a(2),i="LOAD_NOTES_FROM_FETCH",u="ADD_NOTE",l="notes",d=a(7),b=a(3),j=a(5),p=function(e){return Math.max.apply(Math,Object(d.a)(e))+1},O=function(e,t){var a=function(e){return e.split(":")};return e.slice(0).sort((function(e,n){var r=new Date(t[e].pubDate),c=new Date(t[n].pubDate),s=a(t[e].pubTime),i=Object(o.a)(s,2),u=i[0],l=i[1],d=a(t[n].pubTime),b=Object(o.a)(d,2),j=b[0],p=b[1];return r.setHours(u),r.setMinutes(l),c.setHours(j),c.setMinutes(p),r-c})).map((function(e){return+e}))},f=function(){return(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||!1).NODE_ENV},h=!f()||"production"===f(),m=function(){var e;h||(e=console).log.apply(e,arguments)},v=function(){var e;(e=console).error.apply(e,arguments)},x=function(){return localStorage.getItem(l)},N=function(e){try{localStorage.setItem(l,e)}catch(t){v(t)}},S=function(){var e=x();return e?JSON.parse(e):{}},C=function(e){var t=S();N(JSON.stringify(Object(b.a)(Object(b.a)({},t),e)))},y=S(),g={orderedNotesIds:Object.keys(y).length?O(Object.keys(y),y):[],notesById:y},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var a=p(e.orderedNotesIds),n=Object(j.a)({},a,Object.assign({},t.payload.objNote,{id:a}));return C(n),Object(b.a)(Object(b.a)({},e),{},{notesById:Object.assign({},e.notesById,n),orderedNotesIds:[].concat(Object(d.a)(e.orderedNotesIds),[a])});case i:var r=(t.payload.aNotes||[]).reduce((function(e,t){return Object(b.a)(Object(b.a)({},e),{},Object(j.a)({},t.id,Object.assign({},t)))}),e.notesById);return Object(b.a)(Object(b.a)({},e),{},{notesById:r,orderedNotesIds:O(Object.keys(r),r)});default:return v("Error - Unexpected action"),e}},T=a(9),w=a.n(T),D=a(11);function I(){return(I=Object(D.a)(w.a.mark((function e(t){var a,n;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(t);case 2:if((a=e.sent).ok){e.next=5;break}throw new Error("Error while fetching the request "+t.toString());case 5:return e.prev=5,e.next=8,a.json();case 8:return n=e.sent,e.abrupt("return",n);case 12:throw e.prev=12,e.t0=e.catch(5),new Error("Error with the response from the request "+t.toString());case 15:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}a(17);var k=a(0),R=function(e){var t=e.extraClassNamesSpaceSeparated,a=e.required,n=e.placeholderTxt,r=e.onChangeCb,c=e.value,s=void 0===c?"":c;return Object(k.jsx)("textarea",{className:"input-area "+(t||""),value:s,placeholder:n,"aria-placeholder":n,"aria-multiline":"true",role:"textbox",required:a?"required":"",onChange:r})},_=(a(19),function(e){var t=e.extraClassNamesSpaceSeparated,a=e.onClickCb,n=e.disabled,r=void 0!==n&&n,c=e.children;return Object(k.jsx)("button",{className:"btn "+(t||""),onClick:a,role:"button",disabled:r?"disabled":"",children:c})}),L=(a(20),function(e){var t=e.addNoteCb,a=Object(n.useState)(""),r=Object(o.a)(a,2),c=r[0],s=r[1],i=Object(n.useCallback)((function(e){s(e.target.value||"")}),[s]),u=Object(n.useCallback)((function(e){var a="string"===typeof e?e:c;if(a){var n=(new Date).toLocaleString().match(/(\d{1,2})\/(\d{1,2})\/(\d{4})\D*(\d{1,2}):(\d{1,2})/),r={name:"You",photoUrl:"https://picsum.photos/id/%ID%/40/40".replace("%ID%",669),content:a,pubDate:n?"".concat(n[2],"/").concat(n[1],"/").concat(n[3]):"",pubTime:n?"".concat(n[4],":").concat(n[5]):""};t(r),s("")}}),[c,t,s]),l=function(e){var t=Object(n.useRef)(),a=Object(n.useCallback)((function(t){"Enter"===t.key&&(t.preventDefault(),e(t.target.value))}),[]);return Object(n.useEffect)((function(){t.current.addEventListener("keydown",a);var e=t.current;return function(){e.removeEventListener("keydown",a)}}),[]),t}(u);return Object(k.jsxs)("section",{className:"insert",ref:l,children:[Object(k.jsx)(R,{extraClassNamesSpaceSeparated:"insert-input",placeholderTxt:"Enter note about the process",required:!0,onChangeCb:i,value:c}),Object(k.jsx)("div",{className:"insert-btn-container",children:Object(k.jsx)(_,{extraClassNamesSpaceSeparated:"insert-btn",onClickCb:u,disabled:!c,children:"Publish"})})]})}),U=(a(21),function(e){var t=e.altText,a=e.extraClassNamesSpaceSeparated,n=e.imageURL,r=e.titleText;return Object(k.jsx)("div",{className:"avatar "+(a||""),children:Object(k.jsx)("img",{src:n,alt:t,title:r})})}),B=(a(22),function(e){var t=e.extraClassNamesSpaceSeparated,a=e.children;return Object(k.jsx)("div",{className:"label "+(t||""),children:a})}),H=(a(23),function(e){var t=e.extraClassNamesSpaceSeparated,a=e.children;return Object(k.jsx)("div",{className:"timestamp "+(t||""),children:a})}),M=(a(24),function(e){var t=e.extraClassNamesSpaceSeparated,a=e.children,r=Object(n.useRef)(),c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],u=s[1],l=Object(n.useState)(!1),d=Object(o.a)(l,2),b=d[0],j=d[1];return Object(n.useEffect)((function(){r.current.clientHeight<r.current.scrollHeight&&u(!0)}),[]),Object(k.jsxs)("div",{className:"bubble "+(t||""),children:[Object(k.jsx)("div",{className:"bubble-tail"}),Object(k.jsxs)("div",{className:"bubble-content"+(b?" bubble-content--visible":""),ref:r,children:[a,i&&Object(k.jsx)("div",{className:"bubble-readmore",onClick:function(){return j((function(e){return!e}))},children:"Read "+(b?"Less":"More")})||null]})]})}),q=(a(25),function(e){var t=e.extraClassNamesSpaceSeparated,a=e.name,r=e.photoUrl,c=e.pubDate,s=e.pubTime,o=e.content,i=e.isTheLastInTheList,u=Object(n.useRef)();return Object(n.useEffect)((function(){i&&u.current.scrollIntoView()})),Object(k.jsxs)("div",{className:"note "+(t||""),children:[Object(k.jsx)(U,{altText:a,extraClassNamesSpaceSeparated:"note-avatar",imageURL:r,titleText:a}),Object(k.jsx)(B,{extraClassNamesSpaceSeparated:"note-label",children:a}),Object(k.jsx)(H,{extraClassNamesSpaceSeparated:"note-timestamp",children:c+" - "+s}),Object(k.jsx)(M,{extraClassNamesSpaceSeparated:"note-bubble",children:o}),Object(k.jsx)("div",{className:"note-scrollref",ref:u})]})}),A=(a(26),function(){var e=Object(n.useReducer)(E,g),t=Object(o.a)(e,2),a=t[0],r=a.orderedNotesIds,c=a.notesById,s=t[1],l=Object(n.useCallback)((function(e){s({type:u,payload:{objNote:e}})}),[s]);return Object(n.useEffect)((function(){(function(e){return I.apply(this,arguments)})("/data.json").then((function(e){m(e),s({type:i,payload:{aNotes:e.slice(0)}})})).catch((function(e){return v(e)}))}),[]),Object(k.jsxs)("div",{className:"app",children:[Object(k.jsx)("section",{className:"notes-list",children:r.map((function(e,t){var a=c[e],n="You"===a.name,s=t===r.length-1;return Object(k.jsx)(q,{extraClassNamesSpaceSeparated:n?"note--right":"note--left",name:a.name,photoUrl:a.photoUrl,pubDate:a.pubDate,pubTime:a.pubTime,content:a.content,isTheLastInTheList:s},e)}))}),Object(k.jsx)(L,{addNoteCb:l})]})});((window||{}).history||{}).scrollRestoration&&(window.history.scrollRestoration="manual"),s.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(A,{})}),document.getElementById("root"))}],[[27,1,2]]]);
//# sourceMappingURL=main.045205e3.chunk.js.map